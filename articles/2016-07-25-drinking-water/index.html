<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><meta name="google-site-verification" content="muu33Ix4WWGE23IzCYzZCiIlPyGbTNBewVjLjRF6ITA"><link rel="stylesheet" href="http://milafrerichs.de/css/styles.css"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico"><meta name="description" content="Mila Frerichs is a Data Visualization Consultant who helps civic advocacy groups improve the life of citizens with the help of Open Data. He uses the power of public open data and open source to build tools and (geospatial) data visualizations to increase transparency and accountability. He uses his software development skills for social good. "><title>Progress Update: Civic Tech Project â€“ Mila Frerichs, Data Visualization consultant for social good</title>
 <script type="text/javascript"> 
   (function(p, a, n, d, o, b) {
       o = n.createElement('script'); o.type = 'text/javascript'; o.async = true; o.src = 'https://tag.rightmessage.com/'+p+'.js';
       b = n.getElementsByTagName('script')[0]; b.parentNode.insertBefore(o, b);
       d = function(h, u, i) { var o = n.createElement('style'); o.id = 'rmcloak'+i; o.type = 'text/css';
               o.appendChild(n.createTextNode('.rmcloak'+h+'{visibility:hidden}.rmcloak'+u+'{display:none}'));
               b.parentNode.insertBefore(o, b); return o; }; o = d('', '-hidden', ''); d('-stay-invisible', '-stay-hidden', '-stay');
       setTimeout(function() { o.parentNode && o.parentNode.removeChild(o); }, a);
   })('598252326', 2500, document);
 </script>
<meta property="og:title" content="Progress Update: Civic Tech Project" />
<meta property="og:description" content="Last week I decided I should do something with the newly released Open Data Portal of the City of San Diego. And I thought about Data Sets where I could reuse/redeploy apps from other cities. There are 44 datasets in the current portal, and I wanted to use something that could be done relatively quickly but still would be an improvement.
Finding the right dataset After looking through several datasets and trying to find apps that I could easily reuse and redeploy I found the â€Monitoring of select chemical parameters in drinking waterâ€œ dataset and I remembered an app from Code for Heilbronn, Germany about drinking water quality." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://milafrerichs.de/articles/2016-07-25-drinking-water/" /><meta property="article:published_time" content="2016-07-25T00:00:00&#43;00:00"/>
<meta property="article:modified_time" content="2016-07-25T00:00:00&#43;00:00"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Progress Update: Civic Tech Project"/>
<meta name="twitter:description" content="Last week I decided I should do something with the newly released Open Data Portal of the City of San Diego. And I thought about Data Sets where I could reuse/redeploy apps from other cities. There are 44 datasets in the current portal, and I wanted to use something that could be done relatively quickly but still would be an improvement.
Finding the right dataset After looking through several datasets and trying to find apps that I could easily reuse and redeploy I found the â€Monitoring of select chemical parameters in drinking waterâ€œ dataset and I remembered an app from Code for Heilbronn, Germany about drinking water quality."/>
</head><body><main class="container py-8 lg:py-16 px-6 md:px-16 lg:px-24" role="main"><nav class="font-sans flex flex-wrap justify-start items-center my-4 overflow-hidden"><a class="mr-4" href="/">mf</a><div class="block md:hidden"><button id="menu" class="flex items-center px-3 py-2 border rounded text-teal-200 border-teal-400 hover:text-white hover:border-white"><svg class="fill-current h-3 w-3" viewbox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"></path></svg></button></div><div id="menu-items" class="w-full flex-grow md:flex md:items-center md:w-auto hidden md:block"><div class="text-sm md:flex-grow"><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/me/">About me</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/talks-workshops/">Talks/Workshops</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/now/">Now</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/themes/">Themes</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/articles/">Articles</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/journal/">Journal</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/projects/">Portfolio</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/hire-me/">Hire me!</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="https://civicvision.de">Company</a></div></div></nav><article><header><h1 class="font-sans text-4xl text-black font-bold mb-4">Progress Update: Civic Tech Project</h1></header><div class="font-sans text-lg text-grey-darkest spaced-y-6 leading-normal">

<p>Last week I decided I should do something with the newly released <a href="http://data.sandiego.gov">Open Data Portal</a> of the City of <a href="http://sandiego.gov">San Diego</a>.
And I thought about Data Sets where I could reuse/redeploy apps from other cities. There are 44 datasets in the current portal, and I wanted to use something that could be done relatively quickly but still would be an improvement.</p>

<h2 id="finding-the-right-dataset">Finding the right dataset</h2>

<p>After looking through several datasets and trying to find apps that I could easily reuse and redeploy I found the <a href="http://data.sandiego.gov/dataset/monitoring-select-chemical-parameters-drinking-water/">â€Monitoring of select chemical parameters in drinking waterâ€œ</a> dataset and I remembered an <a href="http://opendatalab.de/projects/trinkwasser/">app</a> from <a href="http://codefor.de/heilbronn/">Code for Heilbronn</a>, Germany about drinking water quality.
Several cities in Germany already redeployed the app, so I thought this should be relatively straightforward.</p>

<h2 id="transforming-the-data">Transforming the data</h2>

<p>After looking at the app and the dataset, I realized that I have first to reorganize the data to be useful for this project. Since I have done this already several times, I went on to create Makefile with whom I could clean and reformat the data.
The app needed JSON data so I used an awesome tool: <a href="https://stedolan.github.io/jq/manual/">jq</a>
It helps in transforming JSON data and cleaning it while doing it. You can check out the Makefile <a href="https://github.com/CivicVision/trinkwasser/tree/master/etl">here</a>, and I will have another blog post about jq soon.</p>

<p>Once I got the data, I added them to the app and realized that I have to make more changes than I anticipated.</p>

<h2 id="making-it-easier-to-redeploy">Making it easier to redeploy</h2>

<p>But I took the chance to revamp the app and make it even easier for others to adopt it for their city. I started with creating a configuration file where you would add the city name, the data URL and the active measure. Add the locations for each water plant and the measures you want to show.
Then I transformed the app to use the configuration in the build process to generate a static site out of it. There is no need just now to have it done dynamically at runtime.
It was already using Grunt, so I added the template library Handlebars to pre-generate the template.</p>

<p>This got me somewhere I the app was already quite usable. But there was one big problem.
The site was in German.</p>

<h2 id="translating">Translating</h2>

<p>So I needed to translate it.
But just translating it would be a waste so I decided to use gettext and po files to generate the translations. And since it is a static site it is again already done in the build process. It took me some time to get it to work, but now the app is almost fully translated and could be used with any language.</p>

<p>There are still a few things I would like to do with the app, but Iâ€™m quite satisfied how far Iâ€™ve come in just two days.</p>

<p>If you want to follow the progress keep an eye on my <a href="http://milafrerichs.de/blog">blog</a> and <a href="https://github.com/CivicVision/trinkwasser">GitHub</a> :)</p>

<p>And if you want to help bring it to your city or translate it into another language just ping me.</p>

<h2 id="things-i-plan-for-the-app">Things I plan for the app:</h2>

<ul>
<li>Add tests (there are none right now)</li>
<li>More documentation (almost none)</li>
<li>I need to research the country/city limits on the measurements</li>
<li>Update the data automatically in some way (just showing April measurements right now)</li>
</ul>

<p>And here is the link to the app: <a href="http://civicvision.de/trinkwasser/">http://civicvision.de/trinkwasser/</a></p>
</div></article></main><footer class="font-sans md:py-8 px-4"><div class="mx-auto container overflow-hidden flex flex-col justify-between text-center"><div class="w-full flex-grow md:flex md:items-center md:w-auto"><div class="text-sm md:flex-grow"><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/me/">About me</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/hire-me/">Hire me!</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/talks-workshops/">Talks/Workshops</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/now/">Now</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/themes/">Themes</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/articles/">Articles</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/journal/">Journal</a><a class="block mt-4 md:inline-block md:mt-0 text-grey-darker hover:text-grey-dark mr-4 no-underline" href="/projects/">Portfolio</a></div></div><ul class="text-grey-dark list-reset font-thin flex text-center justify-center text-2xl py-2 flex-col"><li class="pt-2">â˜•ï¸ğŸ•â„ï¸â˜€ï¸</li><li class="pt-2">ğŸ¥ƒ</li><li class="pt-2">âš¾ï¸ğŸˆğŸ„â€â™‚ï¸ğŸŠâ€â™‚ï¸ğŸ‚ğŸ§—â€â™€ï¸</li><li class="pt-2">ğŸ£ğŸ”ğŸŒ®ğŸŒ¯ğŸ•</li><li class="pt-2">ğŸ—ºğŸ”ğŸŸâœˆï¸ğŸšğŸšƒ</li></ul><div class="flex"><a class="block flex items-center text-white hover:text-grey mr-6 no-underline" href="#"><i class="fab fa-github-alt"></i></a><a class="block flex items-center text-white hover:text-grey mr-6 no-underline" href="#"><i class="fab fa-slack"></i></a><a class="block flex items-center text-white hover:text-grey no-underline" href="#"><i class="fab fa-twitter"></i></a></div><div class="text-xs pt-2 mt-2 text-grey-darker text-center">Â©2019 Mila Frerichs. All rights reserved.</div><ul class="text-grey-dark list-reset font-thin flex text-left justify-center"><li><a class="inline-block text-xs py-2 px-3 text-grey hover:text-grey-light no-underline" href="/legal/">Impressum</a></li><li><a class="inline-block text-xs py-2 px-3 text-grey hover:text-grey-light no-underline" href="/legal/privacy/">Privacy</a></li></ul></div></footer><script type="text/javascript" src="/js/main.js"></script></body></html>